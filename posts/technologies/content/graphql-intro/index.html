<!doctype html><html><head><title>GraphQL Introduction</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/navigators/navbar.css><link rel=stylesheet href=/css/plyr.css><link rel=stylesheet href=/css/flag-icon.min.css><link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-QX8WGB4JN0"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-QX8WGB4JN0',{anonymize_ip:!1})}</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','G-QX8WGB4JN0','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script><link rel=icon type=image/png href=/images/skills/git.svg><meta property="og:title" content="GraphQL Introduction"><meta property="og:description" content="This article contains introduction to GraphQL, and it&rsquo;s concepts. If you want to start learning GraphQL, but do not know from what place to start - this article will be a perfect introduction for you.
What is GraphQL? &ldquo;GraphQL is a query language for APIs and a runtime for fulfilling those queries with your existing data&rdquo; - says project&rsquo;s website. But what these words do really mean?
They mean that GraphQL defines own DSL with which clients can access data."><meta property="og:type" content="article"><meta property="og:url" content="/posts/technologies/content/graphql-intro/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-02T07:14:03+04:00"><meta property="article:modified_time" content="2021-12-02T07:14:03+04:00"><meta name=description content="GraphQL Introduction"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/layouts/single.css><link rel=stylesheet href=/css/navigators/sidebar.css><link rel=stylesheet href=/css/style.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-QX8WGB4JN0"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-QX8WGB4JN0',{anonymize_ip:!1})}</script></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/>Anver Bogatov</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"></ul></div></div></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts data-filter=all>Posts</a></li><div class=subtree><li><i class="fas fa-plus-circle"></i><a href=/posts/design/>Design</a><ul><li><a href=/posts/design/content/design-rest-api/ title="How to design REST API?">How to design REST API?</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/modeling/>Modeling</a><ul><li><a href=/posts/modeling/content/domain-storytelling/ title="Domain Storytelling">Domain Storytelling</a></li><li><a href=/posts/modeling/content/risk-storming/ title="Risk Storming">Risk Storming</a></li><li><a href=/posts/modeling/content/user-story-mapping/ title="User Story Mapping">User Story Mapping</a></li></ul></li><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/technologies/>Technologies</a><ul class=active><li><a class=active href=/posts/technologies/content/graphql-intro/ title=GraphQL>GraphQL</a></li><li><a href=/posts/technologies/content/hibernate-n1-problem/ title="Hibernate N+1 Problem">Hibernate N+1 Problem</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/soft-skills/>Soft Skills</a><ul><li><a href=/posts/soft-skills/content/use-case-goal-levels/ title="Use Case Goal Levels">Use Case Goal Levels</a></li><li><a href=/posts/soft-skills/content/star-technique/ title="STAR Technique">STAR Technique</a></li><li><a href=/posts/soft-skills/content/problem-solving-skill/ title="Problem Solving">Problem Solving</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/posts/graphql-introduction/cover.png)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/author_hu8a7883e8d06f1194f726011c44cfe442_450738_120x120_fit_box_2.png alt="Author Image"><h5 class=author-name></h5><p>:date_full</p></div><div class=title><h1>GraphQL Introduction</h1></div><div class=post-content id=post-content><p>This article contains introduction to GraphQL, and it&rsquo;s concepts. If you want to start learning GraphQL, but do not know
from what place to start - this article will be a perfect introduction for you.</p><h2 id=what-is-graphql>What is GraphQL?</h2><p>&ldquo;GraphQL is a query language for APIs and a runtime for fulfilling those queries with your existing data&rdquo; - says project&rsquo;s website.
But what these words do really mean?</p><p>They mean that GraphQL defines own DSL with which clients can access data. They also mean that GraphQL defines internal tools that you can extend in attempt to organise data access operations in an optimal way that is specific for particular case.</p><p>You should also know that GraphQL is language agnostic. You can find many implementations for many programming languages that can be used in different projects. No matter what technology you use, you need to work with same concepts to be able to work with GraphQL.</p><h2 id=concepts>Concepts</h2><p>There are 4 main concepts that you should be familiar with to be able to work with GraphQL.</p><h4 id=schema>Schema</h4><p>If you have ever seen GraphQL queries written in it&rsquo;s DSL, you know that GraphQL querying is mainly about selecting fields on objects that we want to fetch. The shape of the result will look similar to the query, but how to know what fields or objects we can use in the queries? That is where Schema goes in.</p><p><strong>Schema</strong> is a <strong>core concept</strong> of GraphQL. Literally:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext>If you do not have schema - you do not have GraphQL.
</code></pre></div><p>Every GraphQL application has one object of <strong>Query</strong> type and optionally can have object of <strong>Mutation</strong> type. These two types are same as usual objects, but they are special because they define <em>an entry point</em> of every GraphQL query.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=color:#66d9ef>schema</span> {
  <span style=color:#66d9ef>query</span>: <span style=color:#a6e22e>Query</span>
  <span style=color:#a6e22e>mutation</span>: <span style=color:#a6e22e>Mutation</span>
}
</code></pre></div><h4 id=query>Query</h4><p><strong>Query</strong> defines an interface for your data access logic. It describes what type of objects you can fetch from underlying system, what parameters must be send as an input and what type of output you can have as the result.</p><p>Example of Query object can be following:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=color:#66d9ef>query</span> {
    <span style=color:#a6e22e>documents</span>(page: <span style=color:#a6e22e>0</span>, size: <span style=color:#a6e22e>5</span>) {
        id
        name
    }
}
</code></pre></div><p>In the example above <code>documents</code> is name of the method in internal implementation of the application that will be called. In GraphQL terminology <code>documents</code> is a <strong>field</strong>.</p><p><code>page</code> & <code>size</code> are input arguments that will be used while calling <code>documents</code> method. You can also spot exact values that will be transmitted to internal method for both arguments.</p><p>And finally, <code>id</code> & <code>name</code> are names of fields that must be retrevied in response for objects that will be fetched.</p><p>GraphQL&rsquo;s Query can describe multiple fields, each of them can have own signature. For example, let&rsquo;s add additional field that will represent querying document by id.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=color:#66d9ef>query</span> {
    <span style=color:#a6e22e>documents</span>(page: <span style=color:#a6e22e>0</span>, size: <span style=color:#a6e22e>5</span>) {
        id
        name
    }

    document(id: <span style=color:#a6e22e>ID</span>) {
        id
        name
        createDate
    }
}
</code></pre></div><p>Pay attention that input argument for <code>document</code> field has <code>ID</code> type. That is one of scalar types defined by GraphQL standard. We will talk about that in details a bit later.</p><p><code>document</code> field&rsquo;s output is a bit different. There is another field added to the list - <code>createDate</code>. So, the object that will be returned as the result of that query will be described with these 3 fields.</p><p>And finally, we can omit <code>query</code> word. As it was said above, <strong>Query</strong> is a special type, is an entry point to GraphQL. So, if you will omit <code>query</code> term in your request definition, GraphQL will know that you meant <code>query</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql>{
    documents(page: <span style=color:#a6e22e>0</span>, size: <span style=color:#a6e22e>5</span>) {
        id
        name
    }

    document(id: <span style=color:#a6e22e>ID</span>) {
        id
        name
        createDate
    }
}
</code></pre></div><p>In example above, we have defined our GraphQL request. There is one strange thing that you probably interested in - if that is request, how it will work? We have defined 2 separate fields - one that should find five first documents and second that should find one document by id. And yes - with GraphQL that is completely valid case. You can describe multiple methods to be used within one query. And GraphQL will handle that internally. From client perspective it will be one http call and the client will receive one response from the server. That response will contain all the data requested in the query.</p><h4 id=mutation>Mutation</h4><p><strong>Mutation</strong> is second special type in GraphQL. Mutations are responsible for descrbing an interface of operations for data modifications. For example, to continue example with documents, <strong>Mutation</strong> that allows adding new document to the application will look like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=color:#66d9ef>mutation</span> <span style=color:#a6e22e>addNewDocument</span>($name: <span style=color:#a6e22e>String</span>, $docType: <span style=color:#a6e22e>String</span>) {
    addDocument(name: $name, <span style=color:#a6e22e>docType</span>: $docType) {
        <span style=color:#a6e22e>id</span>
        name
        createDate
        docType
    }
}
</code></pre></div><h4 id=subscription>Subscription</h4><p><strong>Subscription</strong> is third special type in GraphQL. Quries allow reading data. Mutations allow writing data. But oftentimes clients want to get pushed updates from the server when data they care about changes. And that is what Subscriptions responsible for.</p><h2 id=types>Types</h2><p>As it was mentioned before <strong>Schema - is a core concept</strong> of GraphQL. You define own schema by expressing your data and data access / modification cases through fields and types.</p><p>There are three kinds of data types in GraphQL available for use:</p><ul><li>Specific types</li><li>Scalar types</li><li>Object types</li></ul><p><img src=/images/graphql-introduction/1.png alt=schema-and-types></p><p>Every type is nullable by default (except specific ones). And also it is possible to define list type where all the elements will be of particular scalar type or object type.</p><p>Specific types are <strong>Query</strong>, <strong>Mutation</strong> and <strong>Subscription</strong>. They described above.</p><h4 id=scalar-types>Scalar types</h4><p>In GraphQL every field in schema must have defined type. Scalar types are basic types that are defined in GraphQL specification. Here they are:</p><ul><li>String</li><li>Int</li><li>Float</li><li>Boolean</li><li>ID</li></ul><h4 id=object-types>Object types</h4><p>Object types are types with own complex structure and behavior. They can be defined same way as Query type in Schema:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>RandomNum</span> {
    random(max: <span style=color:#a6e22e>Int</span>): <span style=color:#a6e22e>Int</span>
}
</code></pre></div><h4 id=custom-types>Custom types</h4><p>You probably already noticed that list of scalar types do not include Date type. To be honest, I do not know the story behind that decision, but
I think that implementation of some types (like Date, for example) depends on a programming language used under the hood. And creators of
GraphQL suggest extending list of types by adding support for whatever type you need by yourself.</p><p>Luckily, with many GraphQL implementations for different platforms (JVM platform for example) there are a variety of libraries
that close the gap in that area.</p><h2 id=the-process>The process</h2><p>In the last section of the article, I would like to describe how the process of building and working GraphQL support in software can look like. That was not so transparent
when I touched GraphQL topic for the first time in my life. So, I make an assumption that you also interested in how technically work with GraphQL looks like.</p><p>Briefly the process will look like this:
<img src=/images/graphql-introduction/2.png alt=graphql-integration-process></p><p>There are not so many steps to be done before you will have GraphQL in your application. Let&rsquo;s briefly describe what need to be done on each of the steps of the process on a simple example -
let&rsquo;s pretend that we are building GraphQL API for querying books for local Library.</p><ol><li>First, we need to <em>define schema</em>. Schema models our business domain through graph.
As a core entity of our domain we will have Book. Every book has own Author. Let&rsquo;s model that through GraphQL schema:</li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Book</span> {
    year: <span style=color:#a6e22e>Int</span>!
    title: <span style=color:#a6e22e>String</span>!
    author: <span style=color:#a6e22e>Author</span>!
}

<span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Author</span> {
    name: <span style=color:#a6e22e>String</span>!
    books: [<span style=color:#a6e22e>Book</span>]
}
</code></pre></div><p>If you remember, each GraphQL schema must include Query object. Let&rsquo;s write two fields to express two data access scenarios - when we get books by title and next read all
available books:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Query</span> {
    books:[<span style=color:#a6e22e>Book</span>]!
    books(title: <span style=color:#a6e22e>Sring</span>):[<span style=color:#a6e22e>Book</span>]!
}
</code></pre></div><p>Our schema is ready. It needs to be saved as a file with <code>graphqls</code> extension.</p><ol start=2><li>Next, under the hood, software to which we are integrating GraphQL must <em>implement data access</em>.
Our application must provide two things:</li></ol><ul><li>implementation of types specified in your schema (<code>Book</code> & <code>Author</code>), so that GraphQL can map types between own representation and application&rsquo;s</li><li>implement so called <code>resolvers</code>. Resolvers are special services written on programming language of your application. They are responsible for
handling data access / modification scenarios. You can think about them as a concrete implementation of the interfaces defined in your GraphQL schema.</li></ul><ol start=3><li>And finally, after schema and resolvers are ready, you can start using your integration on client side.</li></ol><p>By default, GraphQL uses http, its only end point <code>/graphql</code> is available in your application and listens for incoming requests. So, every client that would like
to use GraphQL to query data in our application need to send POST requests to that end point.</p><p>To get all available books without their author the client can send following request:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql>{
    books {
        title
        year
    }
}
</code></pre></div><p>and as the result, GraphQL API will return list of available books without their authors. That can be useful if, for example, we need to present only list of available books without any details.
But for case where some specific book must be presented along with all details, the query can look like that one:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-graphql data-lang=graphql>{
    books(title: <span style=color:#e6db74>&#34;Java programming&#34;</span>) {
        <span style=color:#a6e22e>title</span>
        year
        author {
            name
        }
    }
}
</code></pre></div><p>And that query will return information on book along with its author.</p><h2 id=useful-links>Useful links</h2><p>[1] - <a href=https://graphql.org/>GraphQL web site</a>
[2] - <a href=https://github.com/graphql/graphql-playground>GraphQL Playground web site</a> - Playground is a perfect tool that can be used for testing your GraphQL integration + act as documentation for your clients</p></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/hugo-toha/hugo-toha.github.io/edit/main/content/posts/technologies/content/graphql-intro.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/modeling/content/user-story-mapping/ title="🇷🇺 User Story Mapping или Карты Пользовательских Сценариев" class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i> Prev</div><div class=next-prev-text>🇷🇺 User Story Mapping или Карты Пользовательских Сценариев</div></a></div><div class="col-md-6 next-article"><a href=/posts/technologies/content/hibernate-n1-problem/ title="🇷🇺 Hibernate N+1 Проблема" class="btn btn-outline-info"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>🇷🇺 Hibernate N+1 Проблема</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#what-is-graphql>What is GraphQL?</a></li><li><a href=#concepts>Concepts</a><ul><li><ul><li><a href=#schema>Schema</a></li><li><a href=#query>Query</a></li><li><a href=#mutation>Mutation</a></li><li><a href=#subscription>Subscription</a></li></ul></li></ul></li><li><a href=#types>Types</a><ul><li><ul><li><a href=#scalar-types>Scalar types</a></li><li><a href=#object-types>Object types</a></li><li><a href=#custom-types>Custom types</a></li></ul></li></ul></li><li><a href=#the-process>The process</a></li><li><a href=#useful-links>Useful links</a></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=/#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=/#achievements>Achievements</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:bogatov.anver@gmail.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>bogatov.anver@gmail.com</span></a></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hossainemruz/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_2.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2022 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script type=text/javascript src=/js/jquery-3.4.1.min.js></script><script type=text/javascript src=/js/popper.min.js></script><script type=text/javascript src=/js/bootstrap.min.js></script><script type=text/javascript src=/js/navbar.js></script><script type=text/javascript src=/js/plyr.js></script><script type=text/javascript src=/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script><script src=/js/single.js></script><script>hljs.initHighlightingOnLoad()</script></body></html>